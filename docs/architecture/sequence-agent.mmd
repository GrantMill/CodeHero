sequenceDiagram
  participant User
  participant Browser as Browser (AgentsChat, Continuous)
  participant Web as CodeHero.Web
  participant Agent as IAgentService (MCP Orchestrator)

  Browser->>Web: POST /api/agent/chat (text)
  Web->>Agent: ChatAsync(text)
  Agent->>Agent: Parse intent (list/read/create) with allowlist
  Agent->>MCP: IMcpClient (fs/list, fs/readText, scribe/createRequirement)
  MCP-->>Agent: results
  Agent-->>Web: reply summary
  Web-->>Browser: reply
  Browser->>Web: POST /api/tts (auto)
  Web-->>Browser: audio/wav (play)
