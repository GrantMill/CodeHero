---
id: REQ-003
title: RAG over Repo (Docs, Diagrams, Code)
status: draft
---
As a user, I can ask questions about this repository and get answers grounded in the repo (requirements, architecture, code), with citations to the source files.

Design notes
- Build a local knowledge index over: `docs/requirements`, `docs/architecture`, `CodeHero.Web` (public APIs), and other opted-in folders.
- Use chunking + embeddings (model TBD) stored locally (e.g., SQLite/FAISS) or cloud index.
- Orchestrator queries the index for top-k passages related to the user request before planning.

Acceptance
- [ ] Index job builds/updates embeddings when files change.
- [ ] Ask: “What does Conversational mode do?” returns an answer with citations to README and sequence diagrams.
- [ ] Ask: “Where are requirements stored?” cites `docs/requirements` and `FileStore` APIs.
- [ ] LLM responses include footnote links to files/lines where possible.
- [ ] Config switch to disable/enable RAG and choose model/provider.
